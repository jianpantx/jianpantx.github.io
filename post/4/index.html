<html>
  <head>
    <meta charset="utf-8" />
<meta name="description" content="" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>vagrant+homestead+phpstorm+xdebugè°ƒè¯•é¡¹ç›® | åºŸæä¸€ä¸ª</title>
<link rel="shortcut icon" href="https://jianpantx.github.io/favicon.ico?v=1557038861975">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="stylesheet" href="https://jianpantx.github.io/styles/main.css">

<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/moment.js/2.23.0/moment.min.js"></script>


  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://jianpantx.github.io">
  <img class="avatar" src="https://jianpantx.github.io/images/avatar.png?v=1557038861975" alt="">
  </a>
  <h1 class="site-title">
    åºŸæä¸€ä¸ª
  </h1>
  <p class="site-description">
    åˆ»æ„ç»ƒä¹ ï¼Œåªæœ‰å˜ç§ƒæ‰èƒ½å˜å¼º
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          é¦–é¡µ
        </a>
      
    
      
        <a href="/archives" class="menu">
          å½’æ¡£
        </a>
      
    
      
        <a href="/tags" class="menu">
          æ ‡ç­¾
        </a>
      
    
      
        <a href="/post/about" class="menu">
          å…³äº
        </a>
      
    
  </div>
  <div class="social-container">
    
      
        <a href="https://github.com/jianpantx" target="_blank">
          <i class="fab fa-github"></i>
        </a>
      
    
      
    
      
    
      
    
      
    
  </div>
</div>

      
        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              vagrant+homestead+phpstorm+xdebugè°ƒè¯•é¡¹ç›®
            </h2>
            <div class="post-info">
              <time class="post-time">
                Â· 2019-04-20 Â·
              </time>
              
                <a href="https://jianpantx.github.io/tag/phpstrom" class="post-tags">
                  # phpstorm
                </a>
              
            </div>
            
              <div class="post-feature-image" style="background-image: url('https://jianpantx.github.io/post-images/4.jpg')">
              </div>
            
            <div class="post-content">
              <p>ğŸ±â€ğŸ‘¤Xdebugæ˜¯phpçš„è°ƒè¯•ç¥å™¨ï¼Œä¹‹å‰ä¹Ÿå®‰è£…ä½¿ç”¨è¿‡ï¼Œä½†æ˜¯æœ¬åœ°å¼€å‘ç¯å¢ƒæ˜¯phpstudyã€‚ç°åœ¨åŸºæœ¬ä¸Šéƒ½åœ¨ç”¨vagrant+homesteadæ¥æœ¬åœ°å¼€å‘ï¼Œæ‰€ä»¥æœ¬æ–‡æ˜¯é’ˆå¯¹homesteadç¯å¢ƒï¼Œå…¶ä»–ç¯å¢ƒå°±è‡ªè¡Œgoogle...ğŸ˜</p>
<!-- more -->
<h2 id="xdebugå®‰è£…">Xdebugå®‰è£…</h2>
<ol>
<li>é¦–å…ˆç”¨gitæ‹‰å–æºç å®‰è£…</li>
</ol>
<pre><code>git clone https://github.com/xdebug/xdebug.git
</code></pre>
<ol start="2">
<li>è¿›å…¥ç›®å½•ï¼Œåˆ‡æ¢åˆ°æœ€æ–°ç‰ˆæœ¬çš„åˆ†æ”¯ï¼Œè¿™ä¸ªå¯ä»¥åœ¨gitubä¸Šçœ‹æœ€æ–°çš„åˆ†æ”¯ç„¶ååˆ‡æ¢ï¼Œæˆ‘è¿™é‡Œæœ€æ–°çš„æ˜¯Xdebug_2_7</li>
</ol>
<pre><code>git checkout  xdebug_2_7
</code></pre>
<p>3.æ¥ä¸‹æ¥æœ‰ä¸¤ç§å®‰è£…æ–¹å¼ï¼Œä¸€ç§æ˜¯é»˜è®¤å®‰è£…ï¼Œå¦ä¸€ç§æ˜¯è‡ªå®šä¹‰å®‰è£…ï¼Œæˆ‘è¿™é‡Œé€‰æ‹©çš„æ˜¯é»˜è®¤å®‰è£…ï¼Œæ‰§è¡Œç›®å½•é‡Œçš„å®‰è£…è„šæœ¬å³å¯ï¼š</p>
<pre><code>./rebuild.sh
</code></pre>
<p>å®‰è£…å®Œæˆä¹‹åä¼šè¿”å›ä¸€ä¸ªæ–‡ä»¶ç›®å½•ï¼Œé‡Œé¢æœ‰ä¸€ä¸ªåé¢é…ç½®éœ€è¦çš„æ–‡ä»¶<strong>xdebug.so</strong>
4.åœ¨php.iniä¸­æ·»åŠ xdebugæ‰©å±•ï¼ˆéœ€è¦å¯¹åº”phpçš„ç‰ˆæœ¬ï¼‰
phpä¼šé€šè¿‡ä¸¤ç§æ–¹å¼è¿è¡Œï¼Œfpmå’Œå‘½ä»¤è¡Œcliï¼Œæ‰€æœ‰ä¼šæœ‰ä¸¤ä¸ªphp.inié…ç½®æ–‡ä»¶ï¼Œæˆ‘ä»¬æ·»åŠ çš„xdebugæ‰©å±•é…ç½®ä¼šæ·»åŠ åœ¨mod-availableè¿™ä¸ªæ–‡ä»¶å¤¹é‡Œï¼Œç„¶åé€šè¿‡è½¯è¿æ¥çš„æ–¹å¼ï¼Œè¿æ¥åˆ°fpmå’Œclié‡Œçš„é…ç½®æ–‡ä»¶å¤¹ã€‚
mods-availableæ–‡ä»¶å®¶
<img src="https://jianpantx.github.io/post-images/1555828608456.png" alt="">
cli/conf.d é…ç½®æ–‡ä»¶å¤¹
<img src="https://jianpantx.github.io/post-images/1555828673187.png" alt="">
fpm/conf.dé…ç½®æ–‡ä»¶å®¶
<img src="https://jianpantx.github.io/post-images/1555828695963.png" alt=""></p>
<p>mods-available/xdebug.inié…ç½®ä¿¡æ¯ï¼Œå»ºè®®ä¿®æ”¹é»˜è®¤çš„ç«¯å£9000ï¼Œé˜²æ­¢ä¸fpmçš„ç«¯å£9000å†²çª</p>
<pre><code>zend_extension=/usr/lib/php/20170718/xdebug.so
xdebug.remote_enable = 1
xdebug.remote_connect_back = 1
xdebug.remote_port = 9001
xdebug.max_nesting_level = 512
</code></pre>
<p>è¿™æ ·å°±å®‰è£…å¥½xdebugæ‰©å±•äº†</p>
<h2 id="é…ç½®phpstorm">é…ç½®phpstorm</h2>
<p>ç”¨xdebugè°ƒè¯•çš„æ–¹å¼æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯é€šè¿‡æµè§ˆå™¨å®‰è£…xdebug helperæ’ä»¶ï¼Œé€šè¿‡æµè§ˆå™¨è¯·æ±‚ï¼›å¦å¤–ä¸€ç§æ˜¯é…ç½®æœåŠ¡å™¨ï¼Œå†…éƒ¨è°ƒç”¨ã€‚åŸç†éƒ½æ˜¯é€šè¿‡ä¼ é€’XDEBUG_SESSIONï¼Œæ¥å¼€å¯xdebugã€‚ä¸‹é¢å…ˆæŠŠphpstormçš„ç›‘å¬ç«¯å£é…ç½®å¥½ï¼Œæˆ‘ç”¨çš„9001
<img src="https://jianpantx.github.io/post-images/1555841023596.png" alt=""></p>
<h4 id="æ¸¸è§ˆå™¨æ’ä»¶è°ƒè¯•">æ¸¸è§ˆå™¨æ’ä»¶è°ƒè¯•</h4>
<p>æµè§ˆå™¨å®‰è£…æ’ä»¶
<img src="https://jianpantx.github.io/post-images/1555840851767.png" alt="">
å¼€å¯æ’ä»¶è°ƒè¯•åŠŸèƒ½
<img src="https://jianpantx.github.io/post-images/1555841236889.png" alt="">
è®¾ç½®æ–­ç‚¹
<img src="https://jianpantx.github.io/post-images/1555841398250.png" alt="">
phpstormå¼€å¯ç›‘å¬
<img src="https://jianpantx.github.io/post-images/1555841990853.png" alt="">
æµè§ˆå™¨è®¿é—®é¡¹ç›®ï¼Œæ–­ç‚¹æˆåŠŸï¼Œæ§åˆ¶å°è¾“å‡º
<img src="https://jianpantx.github.io/post-images/1555841433436.png" alt="">
<img src="https://jianpantx.github.io/post-images/1555841521249.png" alt=""></p>
<h4 id="å†…éƒ¨è°ƒç”¨è°ƒè¯•">å†…éƒ¨è°ƒç”¨è°ƒè¯•</h4>
<p>å…ˆåœ¨æ·»åŠ CLI Interpreter
<img src="https://jianpantx.github.io/post-images/1555845535317.png" alt="">
å·¦ä¸Šè§’æ·»åŠ â•
<img src="https://jianpantx.github.io/post-images/1555845633537.png" alt="">
æ ¹æ®è‡ªèº«æƒ…å†µæ·»åŠ é…ç½®
<img src="https://jianpantx.github.io/post-images/1555845685531.png" alt=""></p>
<p>æ·»åŠ æœåŠ¡å™¨ï¼Œå¡«å†™é…ç½®
<img src="https://jianpantx.github.io/post-images/1555845923075.png" alt="">
è¿™æ ·å°±é…ç½®å¥½äº†
æ‰“å¥½æµ‹è¯•æ–­ç‚¹ï¼Œé€‰æ‹©é…ç½®å¥½çš„é¡¹ç›®ï¼Œç‚¹å‡»çº¢è‰²ç”²å£³è™«ï¼Œå¼€å§‹è°ƒè¯•ã€‚
<img src="https://jianpantx.github.io/post-images/1555846296801.png" alt="">
è·Ÿæµè§ˆå™¨è°ƒè¯•ä¸åŒçš„æ˜¯ï¼Œå†…éƒ¨è°ƒç”¨æ˜¯åœ¨åœ°å€ä¸Šä¼ äº†ä¸€ä¸ªXDEBUG_SESSION_STARTï¼Œè€Œæµè§ˆå™¨è°ƒè¯•æ˜¯åœ¨cookieé‡Œé¢ä¼ äº†ä¸€ä¸ªXDEBUG_SESSIONï¼Œå…¶ä»–éƒ½ä¸€æ ·ã€‚</p>
<p><img src="https://jianpantx.github.io/post-images/1555846482918.png" alt=""></p>
<h3 id="ä»‹ç»ä¸€ä¸‹ä¸¤ç§é€šçŸ¥å®¢æˆ·ç«¯çš„æ–¹å¼">ä»‹ç»ä¸€ä¸‹ä¸¤ç§é€šçŸ¥å®¢æˆ·ç«¯çš„æ–¹å¼ï¼š</h3>
<h4 id="ç¬¬ä¸€ç§é™æ€ç»‘å®šå®¢æˆ·ç«¯-host">ç¬¬ä¸€ç§ï¼Œé™æ€ç»‘å®šå®¢æˆ·ç«¯ host</h4>
<p>xdebug.remote_connect_back = 0 ï¼Œä¹Ÿæ˜¯ xdebug çš„é»˜è®¤æ–¹å¼ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œxdebug åœ¨æ”¶åˆ°è°ƒè¯•é€šçŸ¥æ—¶ä¼šè¯»å–é…ç½® xdebug.remote_host å’Œ xdebug.remote_port ï¼Œé»˜è®¤æ˜¯ localhost:9000ï¼Œç„¶åå‘è¿™ä¸ªç«¯å£å‘é€é€šçŸ¥
<img src="https://jianpantx.github.io/post-images/1555846976545.gif" alt=""></p>
<blockquote>
<p>å¯ä»¥çœ‹åˆ°ï¼Œremote_host çš„ IP æ˜¯å›ºå®šçš„ï¼Œè¿™ç§æ–¹å¼åªé€‚åˆå•ä¸€å®¢æˆ·ç«¯å¼€å‘è°ƒè¯•</p>
</blockquote>
<h4 id="ç¬¬äºŒç§ä¸ç»‘å®š-ipæ ¹æ®è¯·æ±‚æ¥æºé€šçŸ¥">ç¬¬äºŒç§ï¼Œä¸ç»‘å®š IPï¼Œæ ¹æ®è¯·æ±‚æ¥æºé€šçŸ¥</h4>
<p>xdebug.remote_connect_back = 1ï¼Œè¿™ç§æ–¹å¼å’Œä¸Šé¢åŸºæœ¬ç›¸åŒï¼Œå”¯ä¸€ä¸åŒçš„æ˜¯ï¼Œphp åœ¨ æ¥å— http è¯·æ±‚åï¼Œxdebug ä¼šå°†è¯·æ±‚æ¥æºçš„ IP ç»‘å®šï¼Œå¹¶é€šçŸ¥
<img src="https://jianpantx.github.io/post-images/1555847030849.gif" alt=""></p>
<blockquote>
<p>ä»¥ä¸Šå°±æ˜¯æ‰€æœ‰ xdebug å·¥ä½œåŸç†ç›¸å…³çš„ä»‹ç»ï¼Œä¸‹ä¸€ç¯‡è®²åœ¨ homestead + phpstorm ä½œä¸ºå¼€å‘ç¯å¢ƒå¦‚ä½•å…·ä½“é…ç½®å¹¶ä½¿ç”¨ xdebug</p>
</blockquote>
<p>å‚è€ƒé“¾æ¥</p>
<p>https://juejin.im/entry/59cba7066fb9a00a4d53f6d3</p>
<p>https://learnku.com/articles/4090/the-first-step-to-becoming-a-senior-php-programmer-debugging-xdebug-principle</p>

            </div>
          </article>
        </div>
    
        
          <div class="next-post">
            <div class="next">ä¸‹ä¸€ç¯‡</div>
            <a href="https://jianpantx.github.io/post/3">
              <h3 class="post-title">
                åœ¨å¼€å‘ä¸­é‡åˆ°å…³äºPHP_EOLçš„é—®é¢˜
              </h3>
            </a>
          </div>  
        

        
          
            <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<div id="gitalk-container"></div>

<script>

  var gitalk = new Gitalk({
    clientID: '12b09a701e2f9fc1bf79',
    clientSecret: 'ee0e634fd29019bb6d0b6d9cd3d4b88e0016ecee',
    repo: 'jianpantx.github.io',
    owner: 'jianpantx',
    admin: ['jianpantx'],
    id: location.pathname,      // Ensure uniqueness and length less than 50
    distractionFreeMode: false  // Facebook-like distraction free mode
  })

  gitalk.render('gitalk-container')

</script>

          

          
        
    
        <div class="site-footer">
  
</div>

<script>
  hljs.initHighlightingOnLoad()
</script>

      </div>
    </div>
  </body>
</html>
